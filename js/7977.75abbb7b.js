"use strict";(self.webpackChunknogle_react_boilerplate=self.webpackChunknogle_react_boilerplate||[]).push([[7977],{87455:(e,t,a)=>{var s=a(24994);t.A=void 0,s(a(96540));var o=s(a(46942)),n=(s(a(5556)),a(78106)),i=s(a(94188)),l=a(51628),r=s(a(15062)),c=a(93185),d=a(74848);t.A=(0,n.withRouter)(e=>{let{history:{push:t},pathname:a,unreadBadge:s,activeshortcuts:n}=e;const u=(0,c.getUniversalHyperlink)(n,"onlinecs");let p=a.split("/"),_=p[p.length-1],A=(null==_?void 0:_.toUpperCase().charAt(0).toUpperCase())+(null==_?void 0:_.toUpperCase().slice(1).toLowerCase());"Mpg"===A&&(A="Fishing"),"Mini_game"===A&&(A="MiniGames");const g=i.default.brand.customMobile.components[A];return(0,d.jsx)("div",{className:(0,o.default)("bottom-nav",{[`bottom-nav-${g}`]:g}),children:(0,d.jsxs)("ul",{children:[(0,d.jsxs)("li",{className:(0,o.default)("nav-home",{current:a===r.default.ROOT}),onClick:()=>{t(r.default.ROOT)},children:[(0,d.jsx)("i",{className:"d20_account_home"}),(0,d.jsx)("h3",{children:l.i18n["game.home"]})]}),(0,d.jsxs)("li",{className:(0,o.default)("nav-promo",{current:a===r.default.PROMOTIONS}),onClick:()=>{t(r.default.PROMOTIONS)},children:[(0,d.jsx)("i",{className:"d20_account_gift"}),(0,d.jsx)("h3",{children:l.i18n["navbar.promo"]})]}),(0,c.filterComp)("deposit",(0,d.jsxs)("li",{className:(0,o.default)("nav-deposit",{current:a===r.default.DEPOSIT}),onClick:()=>{t(r.default.DEPOSIT)},children:[(0,d.jsx)("i",{className:"d20_account_deposit2"}),(0,d.jsx)("h3",{children:l.i18n["navbar.deposit"]})]})),(0,c.filterComp)("withdrawal",(0,d.jsxs)("li",{className:(0,o.default)("nav-withdrawal",{current:a===r.default.WITHDRAW}),onClick:()=>{t(r.default.WITHDRAW)},children:[(0,d.jsx)("i",{className:"d20_account_withdrawal1"}),(0,d.jsx)("h3",{children:l.i18n["navbar.withdrawal"]})]})),(0,d.jsxs)("li",{className:(0,o.default)("nav-cs"),onClick:()=>{window.open(u)},children:[(0,d.jsx)("i",{className:"d20_contact_cs"}),(0,d.jsx)("h3",{children:l.i18n["nav.contact"]})]}),(0,d.jsxs)("li",{className:(0,o.default)("nav-account",{current:a===r.default.ACCOUNT}),onClick:()=>{t(r.default.ACCOUNT)},children:[(0,d.jsx)("i",{className:"d20_account_account"}),(0,d.jsx)("h3",{children:l.i18n["navbar.account"]}),s&&(0,d.jsx)("div",{className:"unreadBadge"})]})]})})})},87977:(e,t,a)=>{var s=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(a(43693)),n=F(a(96540)),i=s(a(46942)),l=(s(a(5556)),a(67467)),r=a(78106),c=a(47459),d=F(a(84622)),u=a(3057),p=s(a(58009)),_=a(84707),A=a(8728),g=a(76066),h=a(53719),E=s(a(94188)),O=a(83597),R=a(8087),T=a(51628),f=s(a(15062)),I=a(67585),m=F(a(51929)),S=F(a(50974)),U=F(a(3242)),v=F(a(30817)),C=F(a(38743)),P=F(a(62144)),M=F(a(61625)),w=F(a(4049)),N=F(a(18318)),L=F(a(80125)),b=a(74848);function F(e,t){if("function"==typeof WeakMap)var a=new WeakMap,s=new WeakMap;return(F=function(e,t){if(!t&&e&&e.__esModule)return e;var o,n,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?s:a){if(o.has(e))return o.get(e);o.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((n=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(n.get||n.set)?o(i,t,n):i[t]=e[t]);return i})(e,t)}const y=a(87455).A;class D extends n.Component{constructor(){super(...arguments),(0,o.default)(this,"state",{landscape:!1,showEmailActivationPendingModal:!1}),(0,o.default)(this,"handleOrientationchange",()=>{if(setTimeout(()=>this.setWindowInnerHeight(),100),[f.default.LAUNCHGAME,f.default.SPORT_PAGE].includes(window.location.pathname))return;const e=90===window.orientation||-90===window.orientation;this.state.landscape!==e&&this.setState({landscape:e})}),(0,o.default)(this,"setWindowInnerHeight",()=>{document.documentElement.style.setProperty("--window-inner-height",`${window.innerHeight}px`)}),(0,o.default)(this,"onClose498ErrorModal",()=>{const{global498Msg:e,closeErrorModal:t,registerErrorCode:a,history:s,gameproviderid:o}=this.props;switch(e.get("constant")){case v.AJAX_PUT_LAUNCH_GAME_FAILURE:if(8===e.get("code")){s.push(f.default.VALIDATE_PAGE,{validationType:R.BlockTypesEnum.BLOCK_LAUNCH_GAME});break}[f.default.CASINO_PAGE,f.default.SPORT_PAGE,f.default.SABA,f.default.ROOT].includes(window.location.pathname)||(window.isIframe?s.push("/"):window.close()),["LUCKY_SPORTS","VIA_CASINO","SABA"].includes(o)&&s.push("/"),0===e.get("code")&&s.push("/");break;case P.AJAX_GET_CHECK_ACTIVATION_TOKEN_FAILURE:s.push(f.default.ROOT);break;case P.KICK_USER:this.props.logoutUserNoApi(),window.close();break;case P.LOGOUT_COUNT_DOWN:this.props.getSync();break;case P.POST_REGISTER_FAILURE:0===a&&location.reload();break;case P.PUT_RESEND_ACT_TOKEN_FAILURE:8===e.get("code")&&(s.push(f.default.ROOT),location.reload());break;case P.AJAX_PUT_ACTIVATION_ACCOUNT_FAILURE:5===e.get("code")&&(s.push(f.default.ROOT),location.reload());break;case P.AJAX_PUT_FORGET_USERNAME_FAILURE:case P.AJAX_PUT_TRIGGER_RESET_PASSWORD_FAILURE:0===e.get("code")&&s.push(f.default.ROOT);break;case U.AJAX_POST_SEND_PAYMENT_FAILURE:case v.AJAX_GET_GAME_HISTORY_DETAIL_FAILURE:window.opener?window.close():s.push(f.default.ROOT);break;case N.ADD_BANK_WITHDRAWAL_FAILURE:13===e.get("code")&&s.push(f.default.ACCOUNT);break;case N.ADD_CRYPTO_WITHDRAWAL_FAILURE:if(13===e.get("code")&&s.push(f.default.ACCOUNT),30===e.get("code")){const t=e.get("locationState")||{};this.props.history.push(f.default.WITHDRAWMAIN,t)}break;case C.PUT_MISSION_CLAIM_REWARD_FAILURE:3===e.get("code")&&(this.props.getDisplaySetting(),s.push(f.default.ACCOUNT));break;case C.POST_GET_ALL_REWARD_FAILURE:3===e.get("code")&&this.props.getDisplaySetting();break;case M.POST_PROMO_REQ_FAILURE:if(0===e.get("code")){s.push(`${f.default.BANKCARDS}?add=true`);break}break;case m.PUT_REGISTER_AFFILIATE_FAILURE:if(2===e.get("code")){window.location.pathname=f.default.ACCOUNT;break}break;case w.PUT_UPDATE_VIP_SIGIN_BOUNS_ERR:case w.GET_NEW_VIP_SETTING_ERR:switch(e.get("code")){case 6:case 9:case 10:case 15:s.location.pathname===f.default.VIP&&(this.props.getUserProfile(),s.push(f.default.ACCOUNT))}break;case S.PUT_CLAIM_ANYTIME_REBATE_FAILURE:1===e.get("code")&&(s.push(f.default.VIEW_PROMO_REWARD),location.reload());break;case M.POST_CLAIM_FAILURE:5===e.get("code")&&location.reload();break;case L.AJAX_POST_ADD_CORP_CRYPTO_DEPOSIT_FAILURE:9===e.get("code")&&location.reload();break;case L.AJAX_UPDATE_CORP_CRYPTO_DEPOSIT_ORDER_INFO_FAILURE:[0,11].includes(e.get("code"))&&location.reload()}t()}),(0,o.default)(this,"get498ErrorModalCustomBtn",()=>{const{global498Msg:e,history:t}=this.props,a=e.get("code"),s=e.get("constant");if((s===M.POST_PROMO_REQ_FAILURE||s===M.GET_DEPOSITAMT_FOR_SELECT_REQ_FAILURE)&&R.PROMO_FAILURE_SMS_CODES.includes(a))return{customBtnText:T.i18n["to.profile"],onClickAction:()=>t.push(f.default.PROFILE)};if(s===M.POST_PROMO_REQ_FAILURE&&R.PROMO_FAILURE_DEPOSIT_CODES.includes(a))return{customBtnText:T.i18n["to.deposit"],onClickAction:()=>t.push(f.default.DEPOSIT)};const{appDownloadURL:o}=E.default.portal.apiServer;return s===C.PUT_MISSION_CLAIM_REWARD_FAILURE&&R.MISSION_FAILURE_APP_DOWNLOAD_CODE.includes(a)&&o?{customBtnText:T.i18n.download,onClickAction:()=>{window.open(o)}}:null}),(0,o.default)(this,"getIsAlertModalHideCloseTxt",()=>{const{global498Msg:e}=this.props,t=e.get("code"),a=e.get("constant"),s=(a===M.POST_PROMO_REQ_FAILURE||a===M.GET_DEPOSITAMT_FOR_SELECT_REQ_FAILURE)&&R.PROMO_FAILURE_SMS_CODES.includes(t),o=a===C.PUT_MISSION_CLAIM_REWARD_FAILURE&&R.MISSION_FAILURE_APP_DOWNLOAD_CODE.includes(t);return s||o})}componentDidMount(){O.isNativeAppFromUrl||window.addEventListener("orientationchange",this.handleOrientationchange),this.setWindowInnerHeight(),window.addEventListener("resize",this.setWindowInnerHeight)}UNSAFE_componentWillReceiveProps(e){e.loginSuccess&&!this.props.loginSuccess&&e.needactivation&&this.setState({showEmailActivationPendingModal:!0})}componentWillUnmount(){O.isNativeAppFromUrl||window.removeEventListener("orientationchange",this.handleOrientationchange),window.removeEventListener("resize",this.setWindowInnerHeight)}renderNavBar(){let e;const{history:{push:t,location:a},player:{missionAvailable:s,promoWaitClaim:o,anytimeRebateWaitClaim:n},logined:i,useNavBar:l,activeshortcuts:r,totalUnreadMsgCount:c,gameQuery:d}=this.props,u=c>0||s||o||n;return l&&!O.isNativeAppFromUrl&&(e=(0,b.jsx)(y,{push:t,pathname:a.pathname,activeshortcuts:r,unreadBadge:!!i&&u,logined:i,gameQuery:d})),e}renderLandscape(){let e;return this.state.landscape&&(e=(0,b.jsx)("div",{className:"landscape-notification",children:(0,b.jsx)("p",{children:T.i18n.portraitModeIsAvailable})})),e}render(){var e;const{showEmailActivationPendingModal:t}=this.state,{showGlobal498Msg:a,global498Msg:s,children:o,component:l,useNavBar:r,activateSuccess:c,verifytype:_,logined:A,location:{pathname:g,search:h},floatingAdsSetting:E,navigationList:m,getFloatingAds:S,pageType:U,...v}=this.props,M=l,w=g.substring(1).replace(/\//g," ")||"root",N=f.default[null==m||null===(e=m.find(e=>e.get("preset")))||void 0===e?void 0:e.get("content")]===g,L=(I.showFloatingPromoPath.includes(g)||N)&&A&&!0,F=R.mobilePathListEnum.includes(g)&&!h.includes("agt");return(0,b.jsxs)("div",{className:(0,i.default)("app",{["v-red-envelope"!==w?w:"red-envelope"]:!0,"native-app":O.isNativeApp,logined:A}),children:[(0,b.jsx)(p.default,{children:e=>e&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.Seo,{path:g}),F&&(0,b.jsx)(d.FloatingAds,{getFloatingAds:S,floatingAdsSetting:E}),(0,b.jsx)(d.EventPopups,{platform:"mobile",pageType:U}),(0,b.jsx)(d.RegRouletteWrapper,{}),this.renderLandscape(),t&&(0,b.jsx)(d.ActivationPendingModalContainer,{onClose:()=>{this.setState({showEmailActivationPendingModal:!1})}}),L&&(0,b.jsx)(d.FloatingPromoCenter,{}),(0,b.jsx)(d.StaticPageDetailPopUpModal,{code:"loginpopup"}),(0,b.jsx)(d.AddHomeScreen,{}),(0,b.jsx)(d.EventTracker,{})]})}),(0,b.jsx)("div",{className:(0,i.default)("app-body",{"nav-bar":r&&!O.isNativeAppFromUrl}),children:o?"function"==typeof o.type?n.default.cloneElement(o,{...v}):o:(0,b.jsx)(M,{...v})}),this.renderNavBar(),_===R.authVerifyTypeEnum.OTP&&c&&(0,b.jsx)(u.AlertModal,{title:T.i18n.tipsModal,onHandleClose:()=>{this.props.history.push(f.default.ROOT)},message:T.i18n["activate.success"],success:!0}),a&&s.size>0&&(0,b.jsx)(u.AlertModal,{onHandleClose:this.onClose498ErrorModal,message:s.get("msg"),className:(0,i.default)({"mission-reward-error":s.get("constant")===C.POST_GET_ALL_REWARD_FAILURE,"login-error":s.get("constant")===P.AJAX_POST_LOGIN_FAILURE}),isHideCloseTxt:this.getIsAlertModalHideCloseTxt(),customBtn:this.get498ErrorModalCustomBtn()})]})}}D.defaultProps={useNavBar:!1,useFloatingGames:!0},t.default=(0,r.withRouter)((0,l.connect)(e=>({logined:e.players.logined,player:e.players.player,walletMap:e.players.walletMap,totalUnreadMsgCount:e.news.totalUnreadMsgCount,global498Msg:e.app.global498Msg,showGlobal498Msg:e.app.showGlobal498Msg,gameproviderid:e.app.gameproviderid,activeshortcuts:e.settings.activeshortcuts,verifytype:e.players.verifytype,activateSuccess:e.players.activateSuccess,needactivation:e.players.needactivation,loginSuccess:e.players.loginSuccess,registerErrorCode:e.players.registerErrorCode,floatingAdsSetting:e.promo.floatingAdsSetting,navigationList:e.games.navigationList}),e=>(0,c.bindActionCreators)({closeErrorModal:_.closeErrorModal,logoutUser:g.logoutUser,logoutUserNoApi:g.logoutUserNoApi,getUserSubWallet:g.getUserSubWallet,getSync:g.getSync,getFloatingAds:h.getFloatingAds,getDisplaySetting:A.getDisplaySetting,getUserProfile:g.getUserProfile},e))(D))}}]);